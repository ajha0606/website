"0",""
"0","fit4<-glm(sex~-1+smoker+age+bmi+children+region+charges, data=insurance, family = ""binomial"")"
"0","y<-as.matrix(insurance$sex)"
"0","x<-model.matrix(fit4)"
"0","x<-scale(x)"
"0",""
"0","cv<-cv.glmnet(x,y,family=""binomial"")"
"0","lasso<-glmnet(x,y,family=""binomial"", lambda=cv$lambda.1se)"
"0","coef(lasso)"
"1","10 x 1 sparse Matrix of class ""dgCMatrix""
"
"1","               "
"1","          s0"
"1","
(Intercept)    "
"1","  0.02093314"
"1","
smokerno       "
"1"," -0.02589044"
"1","
smokeryes      "
"1","  .         "
"1","
age            "
"1","  .         "
"1","
bmi            "
"1","  .         "
"1","
children       "
"1","  .         "
"1","
regionnorthwest"
"1","  .         "
"1","
regionsoutheast"
"1","  .         "
"1","
regionsouthwest"
"1","  .         "
"1","
charges        "
"1","  .         "
"1","
"
"0","#10-fold CV"
"0","insur<-insurance%>%select(age, bmi, charges, sex)"
"0",""
"0","set.seed(1234)"
"0","k=10"
"0","data1<-insur[sample(nrow(insur)),]"
"0","folds1<-cut(seq(1:nrow(insur)), breaks = k, labels=F)"
"0","diags<-NULL"
"0","for(i in 1:k){"
"0","  train1<-insur[folds!=i,]"
"0","  test1<-insur[folds==i,]"
"0","  truth1<-test1$sex"
"0","  fit5<-glm(sex~age+bmi+charges, data=train1, family=""binomial"")"
"0","  prob2<-predict(fit5, newdata=test1, type =""response"")"
"0","  preds<-ifelse(prob2>.5,1,0)"
"0","  diags1<-rbind(diags, class_diag(prob2, truth1))"
"0","}"
"2","Error in `[.data.frame`(insur, folds != i, ) : object 'folds' not found
"
